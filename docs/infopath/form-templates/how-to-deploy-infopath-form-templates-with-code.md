---
title: Déployer des modèles de formulaires InfoPath avec code
manager: soliver
ms.date: 11/16/2014
ms.audience: Developer
keywords:
- deploying form templates [infopath 2007],InfoPath 2007, deploying form templates,form templates [InfoPath 2007], deploying,.NET Framework security settings [InfoPath 2007],deployment [InfoPath 2007], form templates
localization_priority: Normal
ms.assetid: ab66e26d-74ee-4211-b387-1385183a6803
description: Le code du formulaire d'un modèle de formulaire InfoPath avec code managé est compilé pour comment assembly exécuté dans Common Language Runtime (CLR). Chaque fois que vous devez modifier le code du formulaire, vous devez ouvrir le projet correspondant dans Visual Studio 2012, apporter les modifications dans l'éditeur de code, recompiler le modèle de formulaire, puis redéployer le modèle de formulaire. De plus, l'assembly privé étant exécuté dans le domaine d'une application hôte du CLR, les paramètres de sécurité des formulaires qui nécessitent une confiance totale diffèrent légèrement de ceux des modèles de formulaires qui ne nécessitent pas une confiance totale.
ms.openlocfilehash: ba3629e786a224ea950e78bbec9a9fe94d4499de
ms.sourcegitcommit: 8657170d071f9bcf680aba50b9c07f2a4fb82283
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/28/2019
ms.locfileid: "33406898"
---
# <a name="deploy-infopath-form-templates-with-code"></a><span data-ttu-id="ca7f9-106">Déployer des modèles de formulaires InfoPath avec code</span><span class="sxs-lookup"><span data-stu-id="ca7f9-106">Deploy InfoPath Form Templates with Code</span></span>

<span data-ttu-id="ca7f9-p102">Le code du formulaire d'un modèle de formulaire InfoPath avec code managé est compilé pour comment assembly exécuté dans Common Language Runtime (CLR). Chaque fois que vous devez modifier le code du formulaire, vous devez ouvrir le projet correspondant dans Visual Studio 2012, apporter les modifications dans l'éditeur de code, recompiler le modèle de formulaire, puis redéployer le modèle de formulaire. De plus, l'assembly privé étant exécuté dans le domaine d'une application hôte du CLR, les paramètres de sécurité des formulaires qui nécessitent une confiance totale diffèrent légèrement de ceux des modèles de formulaires qui ne nécessitent pas une confiance totale.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-p102">The form code for an InfoPath managed code form template is compiled as an assembly that runs under the common language runtime (CLR). This means that whenever you need to make changes to the form code, you must open its project in Visual Studio 2012, make changes in the code editor, recompile your form template, and then re-deploy the form template. Additionally, because the private assembly for a managed code form template is running under a hosted CLR application domain, the security settings for forms that require full trust differ somewhat from form templates that do not require full trust.</span></span>
  
## <a name="deploying-form-templates-that-do-not-require-full-trust"></a><span data-ttu-id="ca7f9-110">Déploiement de modèles de formulaires ne nécessitant pas la confiance totale</span><span class="sxs-lookup"><span data-stu-id="ca7f9-110">Deploying Form Templates That Do Not Require Full Trust</span></span>

<span data-ttu-id="ca7f9-111">Si le code de formulaire de votre modèle de formulaire n'utilise pas de membres du modèle objet InfoPath qui nécessitent la confiance totale et que le modèle de formulaire n'utilise pas de fonctionnalités qui nécessitent la confiance totale, vous pouvez publier votre modèle de formulaire directement dans InfoPath à l'aide de la procédure qui suit.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-111">If the form code for your form template does not use InfoPath object model members that require full trust, and the form template does not use features that require full trust, you can publish your form template directly from InfoPath using the following procedure.</span></span> <span data-ttu-id="ca7f9-112">Pour plus d'informations sur le modèle de sécurité InfoPath, voir [modèle de sécurité pour les modèles de formulaires avec code](about-the-security-model-for-form-templates-with-code.md).</span><span class="sxs-lookup"><span data-stu-id="ca7f9-112">For information about the InfoPath security model, see [About the Security Model for Form Templates with Code](about-the-security-model-for-form-templates-with-code.md).</span></span>
  
### <a name="deploy-a-form-template-that-does-not-require-full-trust"></a><span data-ttu-id="ca7f9-113">Déploiement d'un modèle de formulaire ne nécessitant pas la confiance totale</span><span class="sxs-lookup"><span data-stu-id="ca7f9-113">Deploy a form template that does not require full trust</span></span>

1. <span data-ttu-id="ca7f9-114">Créez et déboguez le modèle de formulaire dans Visual Studio 2012.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-114">Create and debug your form template in Visual Studio 2012.</span></span>
    
2. <span data-ttu-id="ca7f9-115">Si vous utilisez l'éditeur de code Visual Studio 2012, accédez à InfoPath, cliquez sur l'onglet **Fichier**, puis cliquez sur le bouton correspondant à l'emplacement souhaité sous l'onglet **Publier** (Si vous avez déjà publié le modèle de formulaire, vous pouvez cliquer sur l'onglet **Fichier**, puis sur **Publication rapide** pour republier le modèle de formulaire au même emplacement).</span><span class="sxs-lookup"><span data-stu-id="ca7f9-115">If you are working in the Visual Studio 2012 code editor, switch to InfoPath, click the **File** tab, and then click the button for the desired publishing location on the **Publish** tab. (If you have published the form template previously, you can click the **File** tab, and then click **Quick Publish** to republish the form template to the same location.)</span></span> 
    
    <span data-ttu-id="ca7f9-p104">Le modèle de formulaire est compilé et l' **Assistant Publication** démarre. Suivez les étapes de l' **Assistant Publication** pour déployer le formulaire à l'emplacement de votre choix. Pour plus d'informations sur l'utilisation de l' **Assistant Publication**, recherchez « Publication d'un modèle de formulaire » dans l'aide d'InfoPath.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-p104">The form template is compiled and the **Publishing Wizard** is launched. Follow the steps in the **Publishing Wizard** to deploy your form to the location of your choice. For more information about using the **Publishing Wizard**, search InfoPath Help for "Publish a form template".</span></span>
    
## <a name="deploying-form-templates-that-require-full-trust"></a><span data-ttu-id="ca7f9-119">Déploiement de modèles de formulaires nécessitant la confiance totale</span><span class="sxs-lookup"><span data-stu-id="ca7f9-119">Deploying Form Templates That Require Full Trust</span></span>

<span data-ttu-id="ca7f9-p105">Si le code du formulaire de votre modèle de formulaire n'utilise pas de membres de modèle objet InfoPath nécessitant une confiance totale ou si le modèle de formulaire utilise des fonctionnalités nécessitant une confiance totale, vous devez signer numériquement votre modèle de formulaire (.xsn) avec un certificat de signature de code provenant d'un éditeur approuvé, auquel les utilisateurs de votre formulaire devront accorder leur confiance lors de l'ouverture. Ceci accorde également la confiance totale à votre formulaire et accorde du même coup le jeu d'autorisations FullTrust au code de votre formulaire.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-p105">If the form code for your form template does use InfoPath object model members that require full trust, or the form template uses features that require full trust, you must digitally sign your form template (.xsn) file with a code signing certificate from a trusted publisher, which your users will be prompted to trust when they open the form. This will also make your form fully-trusted, and in turn grant the FullTrust permission set to your form code.</span></span>
  
### <a name="compile-publish-and-digitally-sign-a-form-template"></a><span data-ttu-id="ca7f9-122">Compilation, publication et signature numérique d'un modèle de formulaire</span><span class="sxs-lookup"><span data-stu-id="ca7f9-122">Compile, publish, and digitally sign a form template</span></span>

1. <span data-ttu-id="ca7f9-123">Créez et déboguez votre modèle de formulaire dans Visual Studio 2012.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-123">Create and debug your form template in Visual Studio 2012.</span></span>
    
2. <span data-ttu-id="ca7f9-124">Si vous utilisez l'éditeur de code Visual Studio 2012, accédez à InfoPath, cliquez sur l'onglet **Fichier**, puis cliquez sur **Options de formulaire**.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-124">If you are working in the Visual Studio 2012 code editor, switch to InfoPath, click the **File** tab, and then click **Form Options**.</span></span>
    
3. <span data-ttu-id="ca7f9-125">Cliquez sur la catégorie **Sécurité et approbation**.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-125">Click the **Security and Trust** category.</span></span> 
    
4. <span data-ttu-id="ca7f9-126">Sous **Niveau de sécurité**, désactivez la case à cocher **Déterminer automatiquement le niveau de sécurité**, puis sélectionnez **Confiance totale**.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-126">Under **Security Level**, clear the **Automatically determine security level** check box, and then select **Full Trust**.</span></span>
    
5. <span data-ttu-id="ca7f9-127">Sous **Signature du modèle de formulaire**, sélectionnez **Signer ce modèle de formulaire**, cliquez sur **Sélectionner un certificat**, puis spécifiez le certificat de signature de code avec lequel le modèle de formulaire doit être signé.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-127">Under **Form Template Signature**, select **Sign this form template**, click **Select Certificate**, and then specify the code signing certificate with which to sign the form template.</span></span>
    
6. <span data-ttu-id="ca7f9-128">Cliquez deux fois sur **OK** pour fermer la boîte de dialogue **Options de formulaire**, puis enregistrez vos modifications.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-128">Click **OK** twice to close the **Form Options** dialog box, and then save your changes.</span></span> 
    
7. <span data-ttu-id="ca7f9-129">Cliquez sur l'onglet **Publier**, puis cliquez sur le bouton correspondant à la publication souhaitée.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-129">Click the **Publish** tab, and then click the button for the desired publishing location.</span></span> 
    
8. <span data-ttu-id="ca7f9-p106">Le modèle de formulaire est compilé et l' **Assistant Publication** démarre. Suivez les étapes dans l' **Assistant Publication** pour déployer votre modèle de formulaire. Pour plus d'informations sur l'utilisation de l' **Assistant Publication** afin de déployer un modèle de formulaire nécessitant une confiance totale, recherchez la rubrique « Publication d'un modèle de formulaire avec confiance totale » dans l'aide d'InfoPath.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-p106">The form template is compiled and the **Publishing Wizard** is launched. Follow the steps in the **Publishing Wizard** to deploy your form template. For more information about using the **Publishing Wizard** to deploy a form template that requires full trust, search InfoPath Help for "Publish a form template with full trust".</span></span> 
    
 <span data-ttu-id="ca7f9-133">**Remarques**</span><span class="sxs-lookup"><span data-stu-id="ca7f9-133">**Notes**</span></span>
- <span data-ttu-id="ca7f9-p107">Pour signer numériquement un formulaire, vous devez disposer d'un certificat de signature de code authentifié sur votre ordinateur. Pour acquérir un tel certificat, vous devez contacter une autorité de certification ou votre administrateur réseau.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-p107">To digitally sign a form, you must have an authenticated code signing certificate installed on your computer. To acquire such a certificate, you must contact a certification authority or your network administrator.</span></span>
    
- <span data-ttu-id="ca7f9-136">Si vous devez effectuer des modifications dans le formulaire après sa publication, vous devez répéter la procédure et resigner le modèle de formulaire.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-136">If you need to make changes to the form after publishing, you must repeat the procedure and re-sign the form template.</span></span> <span data-ttu-id="ca7f9-137">Ceci est dû au fait que la modification du formulaire annule la validité de la signature.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-137">This is because altering the form invalidates the digital signature.</span></span> <span data-ttu-id="ca7f9-138">Lors du développement d'un formulaire nécessitant des autorisations confiance totale, vous pouvez utiliser la procédure décrite dans [Aperçu et débogage des modèles de formulaire qui nécessitent une confiance totale](how-to-preview-and-debug-form-templates-that-require-full-trust.md) pour enregistrer le modèle de formulaire sur votre ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-138">During the development of a form that requires full trust permissions you can use the procedure described in [Preview and Debug Form Templates that Require Full Trust](how-to-preview-and-debug-form-templates-that-require-full-trust.md) to register the form template on your local computer.</span></span> 
    
## <a name="configuring-net-framework-security-settings"></a><span data-ttu-id="ca7f9-139">Configuration des paramètres de sécurité .NET Framework</span><span class="sxs-lookup"><span data-stu-id="ca7f9-139">Configuring .NET Framework Security Settings</span></span>

<span data-ttu-id="ca7f9-140">Pour plus de contrôle sur les autorisations accordées au code managé exécuté dans un modèle de formulaire InfoPath avec code managé, vous pouvez utiliser l'utilitaire de configuration de .NET Framework 2.0 pour appliquer un jeu d'autorisations spécifique à votre code de formulaire.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-140">For additional control over the permissions granted to managed code running in an InfoPath managed code form template, you can use the .NET Framework 2.0 Configuration utility to grant a particular permission set to your form code.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="ca7f9-p109">[!IMPORTANTE] La configuration des paramètres de sécurité de .NET Framework pour un modèle de formulaire InfoPath avec code managé n'a pas d'influence sur le fait que les membres du modèle objet InfoPath qui nécessitent une confiance totale sont autorisés à s'exécuter ou non. Vous devez soit signer numériquement, soit inscrire le modèle de formulaire comme décrit précédemment dans cette rubrique pour permettre les appels aux membres du modèle objet InfoPath qui nécessitent une confiance totale. La configuration des paramètres de sécurité de .NET Framework s'applique uniquement aux appels aux membres des classes .NET Framework et aux composants managés autres que le modèle objet InfoPath.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-p109">Configuring .NET Framework security settings for an InfoPath managed code form template does not affect whether InfoPath object model members that require full trust are allowed to run. You must either digitally sign or register a form template as described earlier in this topic to enable calls to InfoPath object model members that require full trust. Configuring .NET Framework security settings apply only to calls to members of .NET Framework classes and managed components other than the InfoPath object model.</span></span> 
  
### <a name="compile-publish-and-configure-net-security-settings-for-a-form-template"></a><span data-ttu-id="ca7f9-144">Compilation, publication et configuration des paramètres de sécurité .NET d'un modèle de formulaire</span><span class="sxs-lookup"><span data-stu-id="ca7f9-144">Compile, publish, and configure .NET security settings for a form template</span></span>

1. <span data-ttu-id="ca7f9-145">Créez et déboguez le modèle de formulaire dans Visual Studio 2012.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-145">Create and debug your form template in Visual Studio 2012.</span></span>
    
2. <span data-ttu-id="ca7f9-146">Si vous utilisez l'éditeur de code Visual Studio 2012, accédez à InfoPath, cliquez sur l'onglet **Fichier**, cliquez sur **Publier**, puis cliquez sur le bouton correspond à l'emplacement de publication souhaité.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-146">If you are working in the Visual Studio 2012 code editor, switch to InfoPath, click the **File** tab, click **Publish**, and then click the button for the desired publishing location.</span></span>
    
    <span data-ttu-id="ca7f9-p110">Le modèle de formulaire est compilé et l' **Assistant Publication** démarre. Suivez les étapes dans l' **Assistant Publication** pour déployer votre formulaire. Pour plus d'informations sur l'utilisation de l' **Assistant Publication**, recherchez « Publication d'un modèle de formulaire » dans l'aide d'InfoPath.</span><span class="sxs-lookup"><span data-stu-id="ca7f9-p110">The form template is compiled and the **Publishing Wizard** is launched. Follow the steps in the **Publishing Wizard** to deploy your form template. For more information about using the **Publishing Wizard**, search InfoPath Help for "Publish a form template".</span></span>
    
3. <span data-ttu-id="ca7f9-150">Exécutez la procédure décrite dans la section «affectation de la confiance totale à des formulaires dans une URL ou une UNC spécifique» de la section [configurer les paramètres de sécurité pour les modèles de formulaires avec code](how-to-configure-security-settings-for-form-templates-with-code.md) .</span><span class="sxs-lookup"><span data-stu-id="ca7f9-150">Perform the procedure described in the "Assigning FullTrust to Forms at a Specific URL or UNC" section of the [Configure Security Settings for Form Templates with Code](how-to-configure-security-settings-for-form-templates-with-code.md)</span></span>
    
## <a name="see-also"></a><span data-ttu-id="ca7f9-151">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ca7f9-151">See also</span></span>

#### <a name="tasks"></a><span data-ttu-id="ca7f9-152">Tâches</span><span class="sxs-lookup"><span data-stu-id="ca7f9-152">Tasks</span></span>

[<span data-ttu-id="ca7f9-153">Configurer les paramètres de sécurité pour les modèles de formulaires avec code</span><span class="sxs-lookup"><span data-stu-id="ca7f9-153">Configure Security Settings for Form Templates with Code</span></span>](how-to-configure-security-settings-for-form-templates-with-code.md)


[<span data-ttu-id="ca7f9-154">À propos du modèle de sécurité pour les modèles de formulaire avec code</span><span class="sxs-lookup"><span data-stu-id="ca7f9-154">About the Security Model for Form Templates with Code</span></span>](about-the-security-model-for-form-templates-with-code.md)
  
[<span data-ttu-id="ca7f9-155">Afficher un aperçu et déboguer des modèles de formulaire exigeant l'autorisation totale</span><span class="sxs-lookup"><span data-stu-id="ca7f9-155">Preview and Debug Form Templates that Require Full Trust</span></span>](how-to-preview-and-debug-form-templates-that-require-full-trust.md)

