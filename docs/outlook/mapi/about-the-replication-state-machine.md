---
title: À propos de la machine à états de réplication
manager: soliver
ms.date: 03/09/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: cf36c6cb-57b4-7b2b-e23d-e0bc8696de96
description: Dernière modification le 09 mars 2015
ms.openlocfilehash: 30dd43a3ac9a315cd41919872b918bee639ca259
ms.sourcegitcommit: 0cf39e5382b8c6f236c8a63c6036849ed3527ded
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/23/2018
ms.locfileid: "22593052"
---
# <a name="about-the-replication-state-machine"></a><span data-ttu-id="eb43e-103">À propos de la machine à états de réplication</span><span class="sxs-lookup"><span data-stu-id="eb43e-103">About the Replication State Machine</span></span>

  
  
<span data-ttu-id="eb43e-104">**S’applique à**: Outlook 2013 | Outlook 2016</span><span class="sxs-lookup"><span data-stu-id="eb43e-104">**Applies to**: Outlook 2013 | Outlook 2016</span></span> 
  
<span data-ttu-id="eb43e-105">Cette rubrique contient une vue d’ensemble de la machine à états pour la réplication de données Microsoft Outlook 2013 et Microsoft Outlook 2010.</span><span class="sxs-lookup"><span data-stu-id="eb43e-105">This topic contains an overview of the state machine for Microsoft Outlook 2013 and Microsoft Outlook 2010 data replication.</span></span>
  
> [!NOTE]
> <span data-ttu-id="eb43e-106">L’API de réplication doit être entièrement implémentée conformément aux instructions de cette rubrique pour pouvoir être utile ou pris en charge.</span><span class="sxs-lookup"><span data-stu-id="eb43e-106">The Replication API must be fully implemented according to the instructions in this topic in order to be useful or supported.</span></span> <span data-ttu-id="eb43e-107">L’API de réplication est disponible en mode exclusif pour répliquer les modifications Outlook 2013 ou Outlook 2010 vers et à partir d’un serveur.</span><span class="sxs-lookup"><span data-stu-id="eb43e-107">The Replication API is available exclusively to replicate Outlook 2013 or Outlook 2010 changes to and from a server.</span></span> 
  
## <a name="iostx-and-the-state-machine"></a><span data-ttu-id="eb43e-108">IOSTX et la Machine à États</span><span class="sxs-lookup"><span data-stu-id="eb43e-108">IOSTX and the State Machine</span></span>

<span data-ttu-id="eb43e-109">Un client appelle **[IOSTX::SyncBeg](iostx-syncbeg.md)**, **[IOSTX::SyncEnd](iostx-syncend.md)**, **[IOSTX::SyncHdrBeg](iostx-synchdrbeg.md)** et **[IOSTX::SyncHdrEnd](iostx-synchdrend.md)** dans une séquence de synchronisation des dossiers Outlook 2013 ou Outlook 2010 et éléments entre un magasin local et un serveur.</span><span class="sxs-lookup"><span data-stu-id="eb43e-109">A client calls **[IOSTX::SyncBeg](iostx-syncbeg.md)**, **[IOSTX::SyncEnd](iostx-syncend.md)**, **[IOSTX::SyncHdrBeg](iostx-synchdrbeg.md)**, and **[IOSTX::SyncHdrEnd](iostx-synchdrend.md)** in a sequence to synchronize Outlook 2013 or Outlook 2010 folders and items between a local store and a server.</span></span> <span data-ttu-id="eb43e-110">La séquence d’appels réelle dépend des données qui doivent être répliquées (par exemple, une hiérarchie de dossiers Outlook 2013 ou Outlook 2010, un Outlook 2013 ou dossier Outlook 2010, éléments de courrier, éléments de calendrier et ainsi de suite) et la direction de la synchronisation (si téléchargement à partir du magasin local sur le serveur ou le téléchargement à partir du serveur dans le magasin local).</span><span class="sxs-lookup"><span data-stu-id="eb43e-110">The actual sequence of calls depends on the data that needs to be replicated (for example, a hierarchy of Outlook 2013 or Outlook 2010 folders, an Outlook 2013 or Outlook 2010 folder, mail items, calendar items, and so on) and the direction of synchronization (whether uploading from the local store to the server, or downloading from the server to the local store).</span></span> <span data-ttu-id="eb43e-111">Voici une séquence classique d’appels :</span><span class="sxs-lookup"><span data-stu-id="eb43e-111">Here is a typical sequence of calls:</span></span> 
  
1. <span data-ttu-id="eb43e-112">Le client appelle **IOSTX::SyncBeg** pour commencer la réplication, en spécifiant un identificateur d’état et un pointeur vers l’adresse d’une structure de données correspondant.</span><span class="sxs-lookup"><span data-stu-id="eb43e-112">The client calls **IOSTX::SyncBeg** to begin replication, specifying a state identifier and a pointer to an address of a corresponding data structure.</span></span> 
    
2. <span data-ttu-id="eb43e-113">Outlook 2013 ou Outlook 2010 alloue de la structure de données et initialise la structure de données avec les informations nécessaires pour le client.</span><span class="sxs-lookup"><span data-stu-id="eb43e-113">Outlook 2013 or Outlook 2010 allocates the data structure and initializes the data structure with the necessary information for the client.</span></span> 
    
3. <span data-ttu-id="eb43e-114">Le client effectue la réplication, mise à jour de la structure de données pour transmettre les informations nécessaires sur la réplication du stockage local.</span><span class="sxs-lookup"><span data-stu-id="eb43e-114">The client performs the replication, updating the data structure to convey to the local store any necessary information about the replication.</span></span>
    
4. <span data-ttu-id="eb43e-115">Après avoir effectué la réplication, le client appelle **[IOSTX::SetSyncResult](iostx-setsyncresult.md)** et **IOSTX::SyncEnd** pour notifier le magasin local de la fin de la réplication spécifique.</span><span class="sxs-lookup"><span data-stu-id="eb43e-115">After performing the replication, the client calls **[IOSTX::SetSyncResult](iostx-setsyncresult.md)** and **IOSTX::SyncEnd** to notify the local store of the completion of the specific replication.</span></span> 
    
> [!NOTE]
> <span data-ttu-id="eb43e-116">Le client appelle toujours **IOSTX::SyncEnd** pour mettre fin à une réplication que le client a commencé pour un état particulier.</span><span class="sxs-lookup"><span data-stu-id="eb43e-116">The client always calls **IOSTX::SyncEnd** to end a replication that the client has begun for a certain state.</span></span> <span data-ttu-id="eb43e-117">En fonction de données globales que le client a besoin pour synchroniser, le client peut appeler plusieurs fois la paire d’appels **IOSTX::SyncBeg** et **IOSTX::SyncEnd** .</span><span class="sxs-lookup"><span data-stu-id="eb43e-117">Depending on the overall data that the client needs to synchronize, the client may call the pair of calls **IOSTX::SyncBeg** and **IOSTX::SyncEnd** more than once.</span></span> 
  
## <a name="state-table"></a><span data-ttu-id="eb43e-118">Table d’état</span><span class="sxs-lookup"><span data-stu-id="eb43e-118">State Table</span></span>

> [!NOTE]
> <span data-ttu-id="eb43e-119">Le tableau suivant répertorie tous les états valides sur l’ordinateur d’état de réplication, ainsi que les identificateurs d’état correspondants et les structures de données.</span><span class="sxs-lookup"><span data-stu-id="eb43e-119">The following table lists all the valid states in the replication state machine, along with the corresponding state identifiers and data structures.</span></span> <span data-ttu-id="eb43e-120">Dans la colonne de **Données répliquées** , le terme « éléments » inclut le courrier, calendrier, contacts, note, journal et éléments de tâche.</span><span class="sxs-lookup"><span data-stu-id="eb43e-120">In the **Data Replicated** column, the term "items" includes mail, calendar, contact, note, journal, and task items.</span></span> <span data-ttu-id="eb43e-121">Lors de la réplication du stockage local sur le serveur, utilisez les identificateurs d’état indiquant « Télécharger » et les structures de données avec le préfixe « UP » (par exemple, **LR_SYNC_UPLOAD_HIERARCHY** et **[UPHIER](uphier.md)** ).</span><span class="sxs-lookup"><span data-stu-id="eb43e-121">When replicating changes from the local store to the server, use state identifiers specifying "UPLOAD" and data structures with the "UP" prefix (for example, **LR_SYNC_UPLOAD_HIERARCHY** and **[UPHIER](uphier.md)** ).</span></span> <span data-ttu-id="eb43e-122">Lors de la réplication des modifications dans le magasin local à partir du serveur, utilisez les identificateurs d’état indiquant « Télécharger » et les structures de données avec le préfixe « DN » (par exemple, **LR_SYNC_DOWNLOAD_HIERARCHY** et **[DNHIER](dnhier.md)** ).</span><span class="sxs-lookup"><span data-stu-id="eb43e-122">When replicating changes from the server to the local store, use state identifiers specifying "DOWNLOAD" and data structures with the "DN" prefix (for example, **LR_SYNC_DOWNLOAD_HIERARCHY** and **[DNHIER](dnhier.md)** ).</span></span> 
  
|||||
|:-----|:-----|:-----|:-----|
|<span data-ttu-id="eb43e-123">**State**</span><span class="sxs-lookup"><span data-stu-id="eb43e-123">**State**</span></span> <br/> |<span data-ttu-id="eb43e-124">**Données répliquées**</span><span class="sxs-lookup"><span data-stu-id="eb43e-124">**Data Replicated**</span></span> <br/> |<span data-ttu-id="eb43e-125">**Identificateur d’état**</span><span class="sxs-lookup"><span data-stu-id="eb43e-125">**State Identifier**</span></span> <br/> |<span data-ttu-id="eb43e-126">**Structure de données**</span><span class="sxs-lookup"><span data-stu-id="eb43e-126">**Data Structure**</span></span> <br/> |
|[<span data-ttu-id="eb43e-127">État inactif</span><span class="sxs-lookup"><span data-stu-id="eb43e-127">Idle state</span></span>](idle-state.md) <br/> | <span data-ttu-id="eb43e-128">*None*</span><span class="sxs-lookup"><span data-stu-id="eb43e-128">*None*</span></span>  <br/> |<span data-ttu-id="eb43e-129">**LR_SYNC_IDLE**</span><span class="sxs-lookup"><span data-stu-id="eb43e-129">**LR_SYNC_IDLE**</span></span> <br/> | <span data-ttu-id="eb43e-130">*None*</span><span class="sxs-lookup"><span data-stu-id="eb43e-130">*None*</span></span>  <br/> |
|[<span data-ttu-id="eb43e-131">État de synchronisation</span><span class="sxs-lookup"><span data-stu-id="eb43e-131">Synchronize state</span></span>](synchronize-state.md) <br/> |<span data-ttu-id="eb43e-132">Dossiers ou éléments</span><span class="sxs-lookup"><span data-stu-id="eb43e-132">Folders or items</span></span>  <br/> |<span data-ttu-id="eb43e-133">**LR_SYNC**</span><span class="sxs-lookup"><span data-stu-id="eb43e-133">**LR_SYNC**</span></span> <br/> |<span data-ttu-id="eb43e-134">**[SYNC](sync.md)**</span><span class="sxs-lookup"><span data-stu-id="eb43e-134">**[SYNC](sync.md)**</span></span> <br/> |
|[<span data-ttu-id="eb43e-135">Télécharger l’état de la hiérarchie</span><span class="sxs-lookup"><span data-stu-id="eb43e-135">Upload hierarchy state</span></span>](upload-hierarchy-state.md) <br/> |<span data-ttu-id="eb43e-136">Dossiers</span><span class="sxs-lookup"><span data-stu-id="eb43e-136">Folders</span></span>  <br/> |<span data-ttu-id="eb43e-137">**LR_SYNC_UPLOAD_HIERARCHY**</span><span class="sxs-lookup"><span data-stu-id="eb43e-137">**LR_SYNC_UPLOAD_HIERARCHY**</span></span> <br/> |<span data-ttu-id="eb43e-138">**[UPHIER](uphier.md)**</span><span class="sxs-lookup"><span data-stu-id="eb43e-138">**[UPHIER](uphier.md)**</span></span> <br/> |
|[<span data-ttu-id="eb43e-139">Télécharger l’état du dossier</span><span class="sxs-lookup"><span data-stu-id="eb43e-139">Upload folder state</span></span>](upload-folder-state.md) <br/> |<span data-ttu-id="eb43e-140">Folder</span><span class="sxs-lookup"><span data-stu-id="eb43e-140">Folder</span></span>  <br/> |<span data-ttu-id="eb43e-141">**LR_SYNC_UPLOAD_FOLDER**</span><span class="sxs-lookup"><span data-stu-id="eb43e-141">**LR_SYNC_UPLOAD_FOLDER**</span></span> <br/> |<span data-ttu-id="eb43e-142">**[UPFLD](upfld.md)**</span><span class="sxs-lookup"><span data-stu-id="eb43e-142">**[UPFLD](upfld.md)**</span></span> <br/> |
|[<span data-ttu-id="eb43e-143">Synchroniser le contenu d’un état</span><span class="sxs-lookup"><span data-stu-id="eb43e-143">Synchronize contents state</span></span>](synchronize-contents-state.md) <br/> |<span data-ttu-id="eb43e-144">Items</span><span class="sxs-lookup"><span data-stu-id="eb43e-144">Items</span></span>  <br/> |<span data-ttu-id="eb43e-145">**LR_SYNC_CONTENTS**</span><span class="sxs-lookup"><span data-stu-id="eb43e-145">**LR_SYNC_CONTENTS**</span></span> <br/> |<span data-ttu-id="eb43e-146">**[SYNCCONT](synccont.md)**</span><span class="sxs-lookup"><span data-stu-id="eb43e-146">**[SYNCCONT](synccont.md)**</span></span> <br/> |
|[<span data-ttu-id="eb43e-147">Télécharger l’état de la table</span><span class="sxs-lookup"><span data-stu-id="eb43e-147">Upload table state</span></span>](upload-table-state.md) <br/> |<span data-ttu-id="eb43e-148">Items</span><span class="sxs-lookup"><span data-stu-id="eb43e-148">Items</span></span>  <br/> |<span data-ttu-id="eb43e-149">**LR_SYNC_UPLOAD_TABLE**</span><span class="sxs-lookup"><span data-stu-id="eb43e-149">**LR_SYNC_UPLOAD_TABLE**</span></span> <br/> |<span data-ttu-id="eb43e-150">**[UPTBL](uptbl.md)**</span><span class="sxs-lookup"><span data-stu-id="eb43e-150">**[UPTBL](uptbl.md)**</span></span> <br/> |
|[<span data-ttu-id="eb43e-151">Télécharger l’état du message</span><span class="sxs-lookup"><span data-stu-id="eb43e-151">Upload message state</span></span>](upload-message-state.md) <br/> |<span data-ttu-id="eb43e-152">Item</span><span class="sxs-lookup"><span data-stu-id="eb43e-152">Item</span></span>  <br/> |<span data-ttu-id="eb43e-153">**LR_SYNC_UPLOAD_MESSAGE**</span><span class="sxs-lookup"><span data-stu-id="eb43e-153">**LR_SYNC_UPLOAD_MESSAGE**</span></span> <br/> |<span data-ttu-id="eb43e-154">**[UPMSG](upmsg.md)**</span><span class="sxs-lookup"><span data-stu-id="eb43e-154">**[UPMSG](upmsg.md)**</span></span> <br/> |
|[<span data-ttu-id="eb43e-155">Télécharger l’état de lecture</span><span class="sxs-lookup"><span data-stu-id="eb43e-155">Upload read status state</span></span>](upload-read-status-state.md) <br/> |<span data-ttu-id="eb43e-156">Items</span><span class="sxs-lookup"><span data-stu-id="eb43e-156">Items</span></span>  <br/> |<span data-ttu-id="eb43e-157">**LR_SYNC_UPLOAD_MESSAGE_READ**</span><span class="sxs-lookup"><span data-stu-id="eb43e-157">**LR_SYNC_UPLOAD_MESSAGE_READ**</span></span> <br/> |<span data-ttu-id="eb43e-158">**[UPREAD](upread.md)**</span><span class="sxs-lookup"><span data-stu-id="eb43e-158">**[UPREAD](upread.md)**</span></span> <br/> |
|[<span data-ttu-id="eb43e-159">Télécharger l’état de la suppression</span><span class="sxs-lookup"><span data-stu-id="eb43e-159">Upload delete status state</span></span>](upload-delete-status-state.md) <br/> |<span data-ttu-id="eb43e-160">Items</span><span class="sxs-lookup"><span data-stu-id="eb43e-160">Items</span></span>  <br/> |<span data-ttu-id="eb43e-161">**LR_SYNC_UPLOAD_MESSAGE_DEL**</span><span class="sxs-lookup"><span data-stu-id="eb43e-161">**LR_SYNC_UPLOAD_MESSAGE_DEL**</span></span> <br/> |<span data-ttu-id="eb43e-162">**[UPDEL](updel.md)**</span><span class="sxs-lookup"><span data-stu-id="eb43e-162">**[UPDEL](updel.md)**</span></span> <br/> |
|[<span data-ttu-id="eb43e-163">État de la hiérarchie du téléchargement</span><span class="sxs-lookup"><span data-stu-id="eb43e-163">Download hierarchy state</span></span>](download-hierarchy-state.md) <br/> |<span data-ttu-id="eb43e-164">Dossiers</span><span class="sxs-lookup"><span data-stu-id="eb43e-164">Folders</span></span>  <br/> |<span data-ttu-id="eb43e-165">**LR_SYNC_DOWNLOAD_HIERARCHY**</span><span class="sxs-lookup"><span data-stu-id="eb43e-165">**LR_SYNC_DOWNLOAD_HIERARCHY**</span></span> <br/> |<span data-ttu-id="eb43e-166">**[DNHIER](dnhier.md)**</span><span class="sxs-lookup"><span data-stu-id="eb43e-166">**[DNHIER](dnhier.md)**</span></span> <br/> |
|[<span data-ttu-id="eb43e-167">Table état du téléchargement</span><span class="sxs-lookup"><span data-stu-id="eb43e-167">Download table state</span></span>](download-table-state.md) <br/> |<span data-ttu-id="eb43e-168">Items</span><span class="sxs-lookup"><span data-stu-id="eb43e-168">Items</span></span>  <br/> |<span data-ttu-id="eb43e-169">**LR_SYNC_DOWNLOAD_TABLE**</span><span class="sxs-lookup"><span data-stu-id="eb43e-169">**LR_SYNC_DOWNLOAD_TABLE**</span></span> <br/> |<span data-ttu-id="eb43e-170">**[DNTBL](dntbl.md)**</span><span class="sxs-lookup"><span data-stu-id="eb43e-170">**[DNTBL](dntbl.md)**</span></span> <br/> |
|[<span data-ttu-id="eb43e-171">Télécharger l’état d’en-tête de message</span><span class="sxs-lookup"><span data-stu-id="eb43e-171">Download message header state</span></span>](download-message-header-state.md) <br/> |<span data-ttu-id="eb43e-172">En-tête de message</span><span class="sxs-lookup"><span data-stu-id="eb43e-172">Message header</span></span>  <br/> |<span data-ttu-id="eb43e-173">**LR_SYNC_DOWNLOAD_HEADER**</span><span class="sxs-lookup"><span data-stu-id="eb43e-173">**LR_SYNC_DOWNLOAD_HEADER**</span></span> <br/> |<span data-ttu-id="eb43e-174">**[HDRSYNC](hdrsync.md)**</span><span class="sxs-lookup"><span data-stu-id="eb43e-174">**[HDRSYNC](hdrsync.md)**</span></span> <br/> |
   
## <a name="state-transition-diagram"></a><span data-ttu-id="eb43e-175">Diagramme de Transition d’état</span><span class="sxs-lookup"><span data-stu-id="eb43e-175">State Transition Diagram</span></span>

<span data-ttu-id="eb43e-176">Le diagramme suivant illustre les transitions d’état qui se produisent lors du téléchargement ou effectuer une synchronisation complète (téléchargement suivi en les téléchargeant) de dossiers ou de contenu de dossiers (messagerie, calendrier, contacts, une note, tâche ou éléments de journal).</span><span class="sxs-lookup"><span data-stu-id="eb43e-176">The following diagram shows the state transitions that occur when uploading or performing a full synchronization (downloading followed by uploading) of folders or contents of folders (mail, calendar, contact, note, task, or journal items).</span></span> 
  
<span data-ttu-id="eb43e-177">@@@NEED À INSÉRER UNE IMAGE CLIPART ICI MANQUANT @@@</span><span class="sxs-lookup"><span data-stu-id="eb43e-177">@@@@@NEED TO INSERT ART HERE THAT IS MISSING@@@@@@</span></span>
  
## <a name="example-uploading-a-folder-hierarchy"></a><span data-ttu-id="eb43e-178">Exemple : Téléchargement une hiérarchie de dossiers</span><span class="sxs-lookup"><span data-stu-id="eb43e-178">Example: Uploading a Folder Hierarchy</span></span>

 <span data-ttu-id="eb43e-179">Lorsque vous transférez une hiérarchie de dossiers, la séquence d’étapes suivante a lieu :</span><span class="sxs-lookup"><span data-stu-id="eb43e-179">When uploading a hierarchy of folders, the following sequence of steps takes place:</span></span> 
  
|||||
|:-----|:-----|:-----|:-----|
|<span data-ttu-id="eb43e-180">**Étape**</span><span class="sxs-lookup"><span data-stu-id="eb43e-180">**Step**</span></span> <br/> |<span data-ttu-id="eb43e-181">**Opération**</span><span class="sxs-lookup"><span data-stu-id="eb43e-181">**Action**</span></span> <br/> |<span data-ttu-id="eb43e-182">**State**</span><span class="sxs-lookup"><span data-stu-id="eb43e-182">**State**</span></span> <br/> |<span data-ttu-id="eb43e-183">**Structure de données connexes**</span><span class="sxs-lookup"><span data-stu-id="eb43e-183">**Related Data Structure**</span></span> <br/> |
|<span data-ttu-id="eb43e-184">1.</span><span class="sxs-lookup"><span data-stu-id="eb43e-184">1.</span></span>  <br/> |<span data-ttu-id="eb43e-185">Le client envoie la hiérarchie de téléchargement **IOSTX::SyncBeg**.</span><span class="sxs-lookup"><span data-stu-id="eb43e-185">The client initiates the hierarchy upload with **IOSTX::SyncBeg**.</span></span>  <br/> |<span data-ttu-id="eb43e-186">**LR_SYNC_UPLOAD_HIERARCHY**</span><span class="sxs-lookup"><span data-stu-id="eb43e-186">**LR_SYNC_UPLOAD_HIERARCHY**</span></span> <br/> |<span data-ttu-id="eb43e-187">**UPHIER**</span><span class="sxs-lookup"><span data-stu-id="eb43e-187">**UPHIER**</span></span> <br/> |
|<span data-ttu-id="eb43e-188">2.</span><span class="sxs-lookup"><span data-stu-id="eb43e-188">2.</span></span>  <br/> |<span data-ttu-id="eb43e-189">Outlook 2013 ou Outlook 2010 remplit **UPHIER** avec des informations pour le client.</span><span class="sxs-lookup"><span data-stu-id="eb43e-189">Outlook 2013 or Outlook 2010 populates **UPHIER** with information for the client.</span></span> <span data-ttu-id="eb43e-190">Cela inclut l’initialisation des paramètres [out] : *iEnt* est défini sur 0 et *cEnt* au nombre de dossiers dans la hiérarchie qui a besoin de téléchargement.</span><span class="sxs-lookup"><span data-stu-id="eb43e-190">This includes initializing the [out] parameters:  *iEnt*  is set to 0, and  *cEnt*  to the number of folders in the hierarchy that needs uploading.</span></span>  <br/> |<span data-ttu-id="eb43e-191">**LR_SYNC_UPLOAD_HIERARCHY**</span><span class="sxs-lookup"><span data-stu-id="eb43e-191">**LR_SYNC_UPLOAD_HIERARCHY**</span></span> <br/> |<span data-ttu-id="eb43e-192">**UPHIER**</span><span class="sxs-lookup"><span data-stu-id="eb43e-192">**UPHIER**</span></span> <br/> |
|<span data-ttu-id="eb43e-193">3.</span><span class="sxs-lookup"><span data-stu-id="eb43e-193">3.</span></span>  <br/> |<span data-ttu-id="eb43e-194">Le client effectue le téléchargement de la hiérarchie réel.</span><span class="sxs-lookup"><span data-stu-id="eb43e-194">The client does the actual hierarchy upload.</span></span> <span data-ttu-id="eb43e-195">Par exemple, si *cEnt* est 10, pour chacun des 10 dossiers, le client appelle **IOSTX::SyncBeg**, spécifiant la structure de données pour le téléchargement d’un dossier et l’identificateur de l’état approprié.</span><span class="sxs-lookup"><span data-stu-id="eb43e-195">As an example, if  *cEnt*  is 10, for each of the 10 folders, the client calls **IOSTX::SyncBeg**, specifying the appropriate state identifier and data structure for uploading a folder.</span></span>  <br/> |<span data-ttu-id="eb43e-196">**LR_SYNC_UPLOAD_FOLDER**</span><span class="sxs-lookup"><span data-stu-id="eb43e-196">**LR_SYNC_UPLOAD_FOLDER**</span></span> <br/> |<span data-ttu-id="eb43e-197">**UPFLD**</span><span class="sxs-lookup"><span data-stu-id="eb43e-197">**UPFLD**</span></span> <br/> |
|<span data-ttu-id="eb43e-198">4.</span><span class="sxs-lookup"><span data-stu-id="eb43e-198">4.</span></span>  <br/> |<span data-ttu-id="eb43e-199">Outlook 2013 ou Outlook 2010 remplit **UPFLD** par l’initialisation de ses paramètres [out], y compris la raison pour le téléchargement de dossier, le pointeur vers l’objet folder et l’identificateur d’entrée pour le dossier.</span><span class="sxs-lookup"><span data-stu-id="eb43e-199">Outlook 2013 or Outlook 2010 populates **UPFLD** by initializing its [out] parameters, including the reason for the folder upload, the pointer to the folder object, and the entry ID for the folder.</span></span>  <br/> |<span data-ttu-id="eb43e-200">**LR_SYNC_UPLOAD_FOLDER**</span><span class="sxs-lookup"><span data-stu-id="eb43e-200">**LR_SYNC_UPLOAD_FOLDER**</span></span> <br/> |<span data-ttu-id="eb43e-201">**UPFLD**</span><span class="sxs-lookup"><span data-stu-id="eb43e-201">**UPFLD**</span></span> <br/> |
|<span data-ttu-id="eb43e-202">5.</span><span class="sxs-lookup"><span data-stu-id="eb43e-202">5.</span></span>  <br/> |<span data-ttu-id="eb43e-203">Le client télécharge le dossier spécifié.</span><span class="sxs-lookup"><span data-stu-id="eb43e-203">The client uploads the specified folder.</span></span>  <br/> |<span data-ttu-id="eb43e-204">**LR_SYNC_UPLOAD_FOLDER**</span><span class="sxs-lookup"><span data-stu-id="eb43e-204">**LR_SYNC_UPLOAD_FOLDER**</span></span> <br/> |<span data-ttu-id="eb43e-205">**UPFLD**</span><span class="sxs-lookup"><span data-stu-id="eb43e-205">**UPFLD**</span></span> <br/> |
|<span data-ttu-id="eb43e-206">6.</span><span class="sxs-lookup"><span data-stu-id="eb43e-206">6.</span></span>  <br/> |<span data-ttu-id="eb43e-207">Le client avertit le magasin local de la fin du téléchargement de dossier : en cas de réussite, le client définit le [in] paramètre *ulFlags* dans **UPFLD** avec **UPF_OK**, puis appelle **IOSTX::SetSyncResult (S_OK)** et **IOSTX::SyncEnd **.</span><span class="sxs-lookup"><span data-stu-id="eb43e-207">The client notifies the local store of the completion of the folder upload: Upon success, the client sets the [in] parameter  *ulFlags*  in **UPFLD** with **UPF_OK**, and then calls **IOSTX::SetSyncResult (S_OK)** and **IOSTX::SyncEnd**.</span></span> <span data-ttu-id="eb43e-208">En cas d’échec, le client ne serait pas défini *ulFlags* avec l’indicateur **UPF_OK** .</span><span class="sxs-lookup"><span data-stu-id="eb43e-208">Upon failure, the client would not set  *ulFlags*  with the **UPF_OK** flag.</span></span> <span data-ttu-id="eb43e-209">Elle appelle **IOSTX::SetSyncResult**, en passant la valeur **HRESULT** et **IOSTX::SyncEnd**.</span><span class="sxs-lookup"><span data-stu-id="eb43e-209">It calls **IOSTX::SetSyncResult**, passing in the **HRESULT** value, and **IOSTX::SyncEnd**.</span></span>  <br/> |<span data-ttu-id="eb43e-210">**LR_SYNC_UPLOAD_FOLDER**</span><span class="sxs-lookup"><span data-stu-id="eb43e-210">**LR_SYNC_UPLOAD_FOLDER**</span></span> <br/> |<span data-ttu-id="eb43e-211">**UPFLD**</span><span class="sxs-lookup"><span data-stu-id="eb43e-211">**UPFLD**</span></span> <br/> |
|<span data-ttu-id="eb43e-212">7.</span><span class="sxs-lookup"><span data-stu-id="eb43e-212">7.</span></span>  <br/> |<span data-ttu-id="eb43e-213">Si **UPF_OK** est défini, Outlook 2013 ou Outlook 2010 efface la demande interne de téléchargement du dossier.</span><span class="sxs-lookup"><span data-stu-id="eb43e-213">If **UPF_OK** is set, Outlook 2013 or Outlook 2010 will clear the internal request for uploading the folder.</span></span> <span data-ttu-id="eb43e-214">Puis quel que soit l’état de *ulFlags* , elle nettoie les informations de suivi interne.</span><span class="sxs-lookup"><span data-stu-id="eb43e-214">Then regardless of the state of  *ulFlags*  , it will clean up any internal bookkeeping information.</span></span> <span data-ttu-id="eb43e-215">Alors que les dossiers sont toujours dans la hiérarchie pour télécharger (*iEnt* est toujours inférieure à *cEnt*), répétez les étapes 3 à 7 client et Outlook 2013 ou Outlook 2010.</span><span class="sxs-lookup"><span data-stu-id="eb43e-215">While there are still folders in the hierarchy to upload (*iEnt*  is still less than  *cEnt*), the client and Outlook 2013 or Outlook 2010 repeat steps 3 through 7.</span></span>  <br/> |<span data-ttu-id="eb43e-216">**LR_SYNC_UPLOAD_FOLDER**</span><span class="sxs-lookup"><span data-stu-id="eb43e-216">**LR_SYNC_UPLOAD_FOLDER**</span></span> <br/> |<span data-ttu-id="eb43e-217">**UPFLD**</span><span class="sxs-lookup"><span data-stu-id="eb43e-217">**UPFLD**</span></span> <br/> |
|<span data-ttu-id="eb43e-218">8.</span><span class="sxs-lookup"><span data-stu-id="eb43e-218">8.</span></span>  <br/> |<span data-ttu-id="eb43e-219">Le client avertit le magasin local de la fin du téléchargement de hiérarchie : en cas de réussite, le client définit le [in] indicateur dans **UPHIER** avec **UPH_OK**et appelle ensuite **IOSTX::SetSyncResult (S_OK)** et **IOSTX::SyncEnd**.</span><span class="sxs-lookup"><span data-stu-id="eb43e-219">The client notifies the local store of the completion of the hierarchy upload: Upon success, the client sets the [in] flag in **UPHIER** with **UPH_OK**, and then calls **IOSTX::SetSyncResult (S_OK)** and **IOSTX::SyncEnd**.</span></span> <span data-ttu-id="eb43e-220">En cas d’échec, le client ne serait pas définir l’indicateur **UPH_OK** .</span><span class="sxs-lookup"><span data-stu-id="eb43e-220">Upon failure, the client would not set the **UPH_OK** flag.</span></span> <span data-ttu-id="eb43e-221">Elle appelle **IOSTX::SetSyncResult**, en passant la valeur **HRESULT** et **IOSTX::SyncEnd**.</span><span class="sxs-lookup"><span data-stu-id="eb43e-221">It calls **IOSTX::SetSyncResult**, passing in the **HRESULT** value, and **IOSTX::SyncEnd**.</span></span>  <br/> |<span data-ttu-id="eb43e-222">**LR_SYNC_UPLOAD_HIERARCHY**</span><span class="sxs-lookup"><span data-stu-id="eb43e-222">**LR_SYNC_UPLOAD_HIERARCHY**</span></span> <br/> |<span data-ttu-id="eb43e-223">**UPHIER**</span><span class="sxs-lookup"><span data-stu-id="eb43e-223">**UPHIER**</span></span> <br/> |
|<span data-ttu-id="eb43e-224">9.</span><span class="sxs-lookup"><span data-stu-id="eb43e-224">9.</span></span>  <br/> |<span data-ttu-id="eb43e-225">Si **UPH_OK** est défini, Outlook 2013 ou Outlook 2010 efface la demande interne de téléchargement de la hiérarchie.</span><span class="sxs-lookup"><span data-stu-id="eb43e-225">If **UPH_OK** is set, Outlook 2013 or Outlook 2010 will clear the internal request for uploading the hierarchy.</span></span> <span data-ttu-id="eb43e-226">Puis quel que soit l’état de *ulFlags* , elle nettoie les informations de suivi interne.</span><span class="sxs-lookup"><span data-stu-id="eb43e-226">Then regardless of the state of  *ulFlags*  , it will clean up any internal bookkeeping information.</span></span>  <br/> |<span data-ttu-id="eb43e-227">**LR_SYNC_UPLOAD_HIERARCHY**</span><span class="sxs-lookup"><span data-stu-id="eb43e-227">**LR_SYNC_UPLOAD_HIERARCHY**</span></span> <br/> |<span data-ttu-id="eb43e-228">**UPHIER**</span><span class="sxs-lookup"><span data-stu-id="eb43e-228">**UPHIER**</span></span> <br/> |
   
## <a name="see-also"></a><span data-ttu-id="eb43e-229">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="eb43e-229">See also</span></span>



[<span data-ttu-id="eb43e-230">À propos de l’API de réplication</span><span class="sxs-lookup"><span data-stu-id="eb43e-230">About the Replication API</span></span>](about-the-replication-api.md)
  
[<span data-ttu-id="eb43e-231">Constantes MAPI</span><span class="sxs-lookup"><span data-stu-id="eb43e-231">MAPI Constants</span></span>](mapi-constants.md)
  
[<span data-ttu-id="eb43e-232">SYNCSTATE</span><span class="sxs-lookup"><span data-stu-id="eb43e-232">SYNCSTATE</span></span>](syncstate.md)

