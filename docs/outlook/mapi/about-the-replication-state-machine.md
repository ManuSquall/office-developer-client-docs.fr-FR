---
title: À propos de la machine à états de réplication
manager: soliver
ms.date: 03/09/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: cf36c6cb-57b4-7b2b-e23d-e0bc8696de96
description: 'Derni�re modification�: lundi 9 mars 2015'
ms.openlocfilehash: a0644e4bf5c6847d61cc59e203d50f61ad142e84
ms.sourcegitcommit: 8fe462c32b91c87911942c188f3445e85a54137c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/23/2019
ms.locfileid: "32329749"
---
# <a name="about-the-replication-state-machine"></a><span data-ttu-id="53dad-103">À propos de la machine à états de réplication</span><span class="sxs-lookup"><span data-stu-id="53dad-103">About the Replication State Machine</span></span>

  
  
<span data-ttu-id="53dad-104">**S’applique à** : Outlook 2013 | Outlook 2016</span><span class="sxs-lookup"><span data-stu-id="53dad-104">**Applies to**: Outlook 2013 | Outlook 2016</span></span> 
  
<span data-ttu-id="53dad-105">Cette rubrique contient une vue d'ensemble de la machine à États pour Microsoft Outlook 2013 et la réplication des données Microsoft Outlook 2010.</span><span class="sxs-lookup"><span data-stu-id="53dad-105">This topic contains an overview of the state machine for Microsoft Outlook 2013 and Microsoft Outlook 2010 data replication.</span></span>
  
> [!NOTE]
> <span data-ttu-id="53dad-106">L'API de réPlication doit être entièrement implémentée conformément aux instructions de cette rubrique pour être utile ou prise en charge.</span><span class="sxs-lookup"><span data-stu-id="53dad-106">The Replication API must be fully implemented according to the instructions in this topic in order to be useful or supported.</span></span> <span data-ttu-id="53dad-107">L'API de réPlication est disponible exclusivement pour répliquer Outlook 2013 ou Outlook 2010 vers et à partir d'un serveur.</span><span class="sxs-lookup"><span data-stu-id="53dad-107">The Replication API is available exclusively to replicate Outlook 2013 or Outlook 2010 changes to and from a server.</span></span> 
  
## <a name="iostx-and-the-state-machine"></a><span data-ttu-id="53dad-108">IOSTX et ordinateur d'État</span><span class="sxs-lookup"><span data-stu-id="53dad-108">IOSTX and the State Machine</span></span>

<span data-ttu-id="53dad-109">Un client appelle **[IOSTX:: SyncBeg](iostx-syncbeg.md)**, **[IOSTX:: SyncEnd,](iostx-syncend.md)**, **[IOSTX:: SyncHdrBeg](iostx-synchdrbeg.md)** et **[IOSTX:: SyncHdrEnd](iostx-synchdrend.md)** dans une séquence pour synchroniser les dossiers et les éléments Outlook 2013 ou Outlook 2010 entre un magasin local et un serveur.</span><span class="sxs-lookup"><span data-stu-id="53dad-109">A client calls **[IOSTX::SyncBeg](iostx-syncbeg.md)**, **[IOSTX::SyncEnd](iostx-syncend.md)**, **[IOSTX::SyncHdrBeg](iostx-synchdrbeg.md)**, and **[IOSTX::SyncHdrEnd](iostx-synchdrend.md)** in a sequence to synchronize Outlook 2013 or Outlook 2010 folders and items between a local store and a server.</span></span> <span data-ttu-id="53dad-110">La séquence d'appels réelle dépend des données à répliquer (par exemple, une hiérarchie de dossiers Outlook 2013 ou Outlook 2010, un dossier Outlook 2013 ou Outlook 2010, des éléments de courrier, des éléments de calendrier, etc.) et le sens de la synchronisation (que chargement depuis le magasin local vers le serveur, ou téléchargement à partir du serveur vers le magasin local).</span><span class="sxs-lookup"><span data-stu-id="53dad-110">The actual sequence of calls depends on the data that needs to be replicated (for example, a hierarchy of Outlook 2013 or Outlook 2010 folders, an Outlook 2013 or Outlook 2010 folder, mail items, calendar items, and so on) and the direction of synchronization (whether uploading from the local store to the server, or downloading from the server to the local store).</span></span> <span data-ttu-id="53dad-111">Voici une séquence d'appels classique:</span><span class="sxs-lookup"><span data-stu-id="53dad-111">Here is a typical sequence of calls:</span></span> 
  
1. <span data-ttu-id="53dad-112">Le client appelle **IOSTX:: SyncBeg** pour commencer la réplication, en spécifiant un identificateur d'État et un pointeur vers une adresse d'une structure de données correspondante.</span><span class="sxs-lookup"><span data-stu-id="53dad-112">The client calls **IOSTX::SyncBeg** to begin replication, specifying a state identifier and a pointer to an address of a corresponding data structure.</span></span> 
    
2. <span data-ttu-id="53dad-113">Outlook 2013 ou Outlook 2010 alloue la structure de données et initialise la structure de données avec les informations nécessaires pour le client.</span><span class="sxs-lookup"><span data-stu-id="53dad-113">Outlook 2013 or Outlook 2010 allocates the data structure and initializes the data structure with the necessary information for the client.</span></span> 
    
3. <span data-ttu-id="53dad-114">Le client effectue la réplication, mettant à jour la structure de données pour transmettre au magasin local toutes les informations nécessaires à propos de la réplication.</span><span class="sxs-lookup"><span data-stu-id="53dad-114">The client performs the replication, updating the data structure to convey to the local store any necessary information about the replication.</span></span>
    
4. <span data-ttu-id="53dad-115">Après avoir effectué la réplication, le client appelle **[IOSTX:: SetSyncResult](iostx-setsyncresult.md)** et **IOSTX:: SyncEnd,** pour informer le magasin local de la fin de la réplication spécifique.</span><span class="sxs-lookup"><span data-stu-id="53dad-115">After performing the replication, the client calls **[IOSTX::SetSyncResult](iostx-setsyncresult.md)** and **IOSTX::SyncEnd** to notify the local store of the completion of the specific replication.</span></span> 
    
> [!NOTE]
> <span data-ttu-id="53dad-116">Le client appelle toujours **IOSTX:: SyncEnd,** pour mettre fin à une réplication démarrée par le client pour un certain état.</span><span class="sxs-lookup"><span data-stu-id="53dad-116">The client always calls **IOSTX::SyncEnd** to end a replication that the client has begun for a certain state.</span></span> <span data-ttu-id="53dad-117">En fonction des données globales que le client doit synchroniser, le client peut appeler la paire d'appels **IOSTX:: SyncBeg** et **IOSTX:: SyncEnd,** plusieurs fois.</span><span class="sxs-lookup"><span data-stu-id="53dad-117">Depending on the overall data that the client needs to synchronize, the client may call the pair of calls **IOSTX::SyncBeg** and **IOSTX::SyncEnd** more than once.</span></span> 
  
## <a name="state-table"></a><span data-ttu-id="53dad-118">Table d'État</span><span class="sxs-lookup"><span data-stu-id="53dad-118">State Table</span></span>

> [!NOTE]
> <span data-ttu-id="53dad-119">Le tableau suivant répertorie tous les États valides dans la machine à États de réplication, ainsi que les identificateurs d'État et les structures de données correspondantes.</span><span class="sxs-lookup"><span data-stu-id="53dad-119">The following table lists all the valid states in the replication state machine, along with the corresponding state identifiers and data structures.</span></span> <span data-ttu-id="53dad-120">Dans la colonne **données répliquées** , le terme «éléments» inclut les éléments courrier, calendrier, contact, note, Journal et tâche.</span><span class="sxs-lookup"><span data-stu-id="53dad-120">In the **Data Replicated** column, the term "items" includes mail, calendar, contact, note, journal, and task items.</span></span> <span data-ttu-id="53dad-121">Lors de la réplication des modifications de la banque locale sur le serveur, utilisez des identificateurs d'État spécifiant «télécharger» et des structures de données avec le préfixe «UP» (par exemple, **LR_SYNC_UPLOAD_HIERARCHY** et **[hier](uphier.md)** ).</span><span class="sxs-lookup"><span data-stu-id="53dad-121">When replicating changes from the local store to the server, use state identifiers specifying "UPLOAD" and data structures with the "UP" prefix (for example, **LR_SYNC_UPLOAD_HIERARCHY** and **[UPHIER](uphier.md)** ).</span></span> <span data-ttu-id="53dad-122">Lors de la réplication des modifications entre le serveur et le magasin local, utilisez des identificateurs d'État spécifiant «télécharger» et des structures de données avec le préfixe «DN» (par exemple, **LR_SYNC_DOWNLOAD_HIERARCHY** et **[DNHIER](dnhier.md)** ).</span><span class="sxs-lookup"><span data-stu-id="53dad-122">When replicating changes from the server to the local store, use state identifiers specifying "DOWNLOAD" and data structures with the "DN" prefix (for example, **LR_SYNC_DOWNLOAD_HIERARCHY** and **[DNHIER](dnhier.md)** ).</span></span> 
  
|||||
|:-----|:-----|:-----|:-----|
|<span data-ttu-id="53dad-123">**State**</span><span class="sxs-lookup"><span data-stu-id="53dad-123">**State**</span></span> <br/> |<span data-ttu-id="53dad-124">**Données répliquées**</span><span class="sxs-lookup"><span data-stu-id="53dad-124">**Data Replicated**</span></span> <br/> |<span data-ttu-id="53dad-125">**Identificateur d'État**</span><span class="sxs-lookup"><span data-stu-id="53dad-125">**State Identifier**</span></span> <br/> |<span data-ttu-id="53dad-126">**Structure de données**</span><span class="sxs-lookup"><span data-stu-id="53dad-126">**Data Structure**</span></span> <br/> |
|[<span data-ttu-id="53dad-127">État inactif</span><span class="sxs-lookup"><span data-stu-id="53dad-127">Idle state</span></span>](idle-state.md) <br/> | <span data-ttu-id="53dad-128">*None*</span><span class="sxs-lookup"><span data-stu-id="53dad-128">*None*</span></span>  <br/> |<span data-ttu-id="53dad-129">**LR_SYNC_IDLE**</span><span class="sxs-lookup"><span data-stu-id="53dad-129">**LR_SYNC_IDLE**</span></span> <br/> | <span data-ttu-id="53dad-130">*None*</span><span class="sxs-lookup"><span data-stu-id="53dad-130">*None*</span></span>  <br/> |
|[<span data-ttu-id="53dad-131">Synchronisation de l’état</span><span class="sxs-lookup"><span data-stu-id="53dad-131">Synchronize state</span></span>](synchronize-state.md) <br/> |<span data-ttu-id="53dad-132">Dossiers ou éléments</span><span class="sxs-lookup"><span data-stu-id="53dad-132">Folders or items</span></span>  <br/> |<span data-ttu-id="53dad-133">**LR_SYNC**</span><span class="sxs-lookup"><span data-stu-id="53dad-133">**LR_SYNC**</span></span> <br/> |<span data-ttu-id="53dad-134">**[SYNCHRONI](sync.md)**</span><span class="sxs-lookup"><span data-stu-id="53dad-134">**[SYNC](sync.md)**</span></span> <br/> |
|[<span data-ttu-id="53dad-135">Charger l'état de la hiérarchie</span><span class="sxs-lookup"><span data-stu-id="53dad-135">Upload hierarchy state</span></span>](upload-hierarchy-state.md) <br/> |<span data-ttu-id="53dad-136">Folders</span><span class="sxs-lookup"><span data-stu-id="53dad-136">Folders</span></span>  <br/> |<span data-ttu-id="53dad-137">**LR_SYNC_UPLOAD_HIERARCHY**</span><span class="sxs-lookup"><span data-stu-id="53dad-137">**LR_SYNC_UPLOAD_HIERARCHY**</span></span> <br/> |<span data-ttu-id="53dad-138">**[UPHIER](uphier.md)**</span><span class="sxs-lookup"><span data-stu-id="53dad-138">**[UPHIER](uphier.md)**</span></span> <br/> |
|[<span data-ttu-id="53dad-139">Télécharger l'état du dossier</span><span class="sxs-lookup"><span data-stu-id="53dad-139">Upload folder state</span></span>](upload-folder-state.md) <br/> |<span data-ttu-id="53dad-140">Folder</span><span class="sxs-lookup"><span data-stu-id="53dad-140">Folder</span></span>  <br/> |<span data-ttu-id="53dad-141">**LR_SYNC_UPLOAD_FOLDER**</span><span class="sxs-lookup"><span data-stu-id="53dad-141">**LR_SYNC_UPLOAD_FOLDER**</span></span> <br/> |<span data-ttu-id="53dad-142">**[UPFLD](upfld.md)**</span><span class="sxs-lookup"><span data-stu-id="53dad-142">**[UPFLD](upfld.md)**</span></span> <br/> |
|[<span data-ttu-id="53dad-143">Synchroniser l'état du contenu</span><span class="sxs-lookup"><span data-stu-id="53dad-143">Synchronize contents state</span></span>](synchronize-contents-state.md) <br/> |<span data-ttu-id="53dad-144">Éléments</span><span class="sxs-lookup"><span data-stu-id="53dad-144">Items</span></span>  <br/> |<span data-ttu-id="53dad-145">**LR_SYNC_CONTENTS**</span><span class="sxs-lookup"><span data-stu-id="53dad-145">**LR_SYNC_CONTENTS**</span></span> <br/> |<span data-ttu-id="53dad-146">**[SYNCCONT](synccont.md)**</span><span class="sxs-lookup"><span data-stu-id="53dad-146">**[SYNCCONT](synccont.md)**</span></span> <br/> |
|[<span data-ttu-id="53dad-147">Charger l'état de la table</span><span class="sxs-lookup"><span data-stu-id="53dad-147">Upload table state</span></span>](upload-table-state.md) <br/> |<span data-ttu-id="53dad-148">Éléments</span><span class="sxs-lookup"><span data-stu-id="53dad-148">Items</span></span>  <br/> |<span data-ttu-id="53dad-149">**LR_SYNC_UPLOAD_TABLE**</span><span class="sxs-lookup"><span data-stu-id="53dad-149">**LR_SYNC_UPLOAD_TABLE**</span></span> <br/> |<span data-ttu-id="53dad-150">**[UPTBL](uptbl.md)**</span><span class="sxs-lookup"><span data-stu-id="53dad-150">**[UPTBL](uptbl.md)**</span></span> <br/> |
|[<span data-ttu-id="53dad-151">Charger l'état du message</span><span class="sxs-lookup"><span data-stu-id="53dad-151">Upload message state</span></span>](upload-message-state.md) <br/> |<span data-ttu-id="53dad-152">Élément</span><span class="sxs-lookup"><span data-stu-id="53dad-152">Item</span></span>  <br/> |<span data-ttu-id="53dad-153">**LR_SYNC_UPLOAD_MESSAGE**</span><span class="sxs-lookup"><span data-stu-id="53dad-153">**LR_SYNC_UPLOAD_MESSAGE**</span></span> <br/> |<span data-ttu-id="53dad-154">**[UPMSG](upmsg.md)**</span><span class="sxs-lookup"><span data-stu-id="53dad-154">**[UPMSG](upmsg.md)**</span></span> <br/> |
|[<span data-ttu-id="53dad-155">Télécharger l'état de l'état de lecture</span><span class="sxs-lookup"><span data-stu-id="53dad-155">Upload read status state</span></span>](upload-read-status-state.md) <br/> |<span data-ttu-id="53dad-156">Éléments</span><span class="sxs-lookup"><span data-stu-id="53dad-156">Items</span></span>  <br/> |<span data-ttu-id="53dad-157">**LR_SYNC_UPLOAD_MESSAGE_READ**</span><span class="sxs-lookup"><span data-stu-id="53dad-157">**LR_SYNC_UPLOAD_MESSAGE_READ**</span></span> <br/> |<span data-ttu-id="53dad-158">**[UPREAD](upread.md)**</span><span class="sxs-lookup"><span data-stu-id="53dad-158">**[UPREAD](upread.md)**</span></span> <br/> |
|[<span data-ttu-id="53dad-159">Télécharger l'état de l'état de suppression</span><span class="sxs-lookup"><span data-stu-id="53dad-159">Upload delete status state</span></span>](upload-delete-status-state.md) <br/> |<span data-ttu-id="53dad-160">Éléments</span><span class="sxs-lookup"><span data-stu-id="53dad-160">Items</span></span>  <br/> |<span data-ttu-id="53dad-161">**LR_SYNC_UPLOAD_MESSAGE_DEL**</span><span class="sxs-lookup"><span data-stu-id="53dad-161">**LR_SYNC_UPLOAD_MESSAGE_DEL**</span></span> <br/> |<span data-ttu-id="53dad-162">**[UPDEL](updel.md)**</span><span class="sxs-lookup"><span data-stu-id="53dad-162">**[UPDEL](updel.md)**</span></span> <br/> |
|[<span data-ttu-id="53dad-163">Télécharger l'état de la hiérarchie</span><span class="sxs-lookup"><span data-stu-id="53dad-163">Download hierarchy state</span></span>](download-hierarchy-state.md) <br/> |<span data-ttu-id="53dad-164">Folders</span><span class="sxs-lookup"><span data-stu-id="53dad-164">Folders</span></span>  <br/> |<span data-ttu-id="53dad-165">**LR_SYNC_DOWNLOAD_HIERARCHY**</span><span class="sxs-lookup"><span data-stu-id="53dad-165">**LR_SYNC_DOWNLOAD_HIERARCHY**</span></span> <br/> |<span data-ttu-id="53dad-166">**[DNHIER](dnhier.md)**</span><span class="sxs-lookup"><span data-stu-id="53dad-166">**[DNHIER](dnhier.md)**</span></span> <br/> |
|[<span data-ttu-id="53dad-167">Télécharger l'état de la table</span><span class="sxs-lookup"><span data-stu-id="53dad-167">Download table state</span></span>](download-table-state.md) <br/> |<span data-ttu-id="53dad-168">Éléments</span><span class="sxs-lookup"><span data-stu-id="53dad-168">Items</span></span>  <br/> |<span data-ttu-id="53dad-169">**LR_SYNC_DOWNLOAD_TABLE**</span><span class="sxs-lookup"><span data-stu-id="53dad-169">**LR_SYNC_DOWNLOAD_TABLE**</span></span> <br/> |<span data-ttu-id="53dad-170">**[DNTBL](dntbl.md)**</span><span class="sxs-lookup"><span data-stu-id="53dad-170">**[DNTBL](dntbl.md)**</span></span> <br/> |
|[<span data-ttu-id="53dad-171">Télécharger l'état de l'en-tête du message</span><span class="sxs-lookup"><span data-stu-id="53dad-171">Download message header state</span></span>](download-message-header-state.md) <br/> |<span data-ttu-id="53dad-172">En-tête de message</span><span class="sxs-lookup"><span data-stu-id="53dad-172">Message header</span></span>  <br/> |<span data-ttu-id="53dad-173">**LR_SYNC_DOWNLOAD_HEADER**</span><span class="sxs-lookup"><span data-stu-id="53dad-173">**LR_SYNC_DOWNLOAD_HEADER**</span></span> <br/> |<span data-ttu-id="53dad-174">**[HDRSYNC](hdrsync.md)**</span><span class="sxs-lookup"><span data-stu-id="53dad-174">**[HDRSYNC](hdrsync.md)**</span></span> <br/> |
   
## <a name="state-transition-diagram"></a><span data-ttu-id="53dad-175">Diagramme de transition d'État</span><span class="sxs-lookup"><span data-stu-id="53dad-175">State Transition Diagram</span></span>

<span data-ttu-id="53dad-176">Le diagramme suivant montre les transitions d'État qui se produisent lors du téléchargement ou de l'exécution d'une synchronisation complète (téléchargement suivi d'un téléchargement) de dossiers ou de contenus de dossiers (messages, calendrier, contact, note, tâche ou journal).</span><span class="sxs-lookup"><span data-stu-id="53dad-176">The following diagram shows the state transitions that occur when uploading or performing a full synchronization (downloading followed by uploading) of folders or contents of folders (mail, calendar, contact, note, task, or journal items).</span></span> 
  
<span data-ttu-id="53dad-177">@ @ @ @ @NEED INSÉRER ICI UNE ILLUSTRATION MANQUANTE @ @ @ @ @ @</span><span class="sxs-lookup"><span data-stu-id="53dad-177">@@@@@NEED TO INSERT ART HERE THAT IS MISSING@@@@@@</span></span>
  
## <a name="example-uploading-a-folder-hierarchy"></a><span data-ttu-id="53dad-178">Exemple: chargement d'une hiérarchie de dossiers</span><span class="sxs-lookup"><span data-stu-id="53dad-178">Example: Uploading a Folder Hierarchy</span></span>

 <span data-ttu-id="53dad-179">Lors du chargement d'une hiérarchie de dossiers, la séquence d'étapes suivante a lieu:</span><span class="sxs-lookup"><span data-stu-id="53dad-179">When uploading a hierarchy of folders, the following sequence of steps takes place:</span></span> 
  
|||||
|:-----|:-----|:-----|:-----|
|<span data-ttu-id="53dad-180">**Étape**</span><span class="sxs-lookup"><span data-stu-id="53dad-180">**Step**</span></span> <br/> |<span data-ttu-id="53dad-181">**Action**</span><span class="sxs-lookup"><span data-stu-id="53dad-181">**Action**</span></span> <br/> |<span data-ttu-id="53dad-182">**State**</span><span class="sxs-lookup"><span data-stu-id="53dad-182">**State**</span></span> <br/> |<span data-ttu-id="53dad-183">**Structure de données associée**</span><span class="sxs-lookup"><span data-stu-id="53dad-183">**Related Data Structure**</span></span> <br/> |
|<span data-ttu-id="53dad-184">1.</span><span class="sxs-lookup"><span data-stu-id="53dad-184">1.</span></span>  <br/> |<span data-ttu-id="53dad-185">Le client lance le chargement de la hiérarchie avec **IOSTX:: SyncBeg**.</span><span class="sxs-lookup"><span data-stu-id="53dad-185">The client initiates the hierarchy upload with **IOSTX::SyncBeg**.</span></span>  <br/> |<span data-ttu-id="53dad-186">**LR_SYNC_UPLOAD_HIERARCHY**</span><span class="sxs-lookup"><span data-stu-id="53dad-186">**LR_SYNC_UPLOAD_HIERARCHY**</span></span> <br/> |<span data-ttu-id="53dad-187">**UPHIER**</span><span class="sxs-lookup"><span data-stu-id="53dad-187">**UPHIER**</span></span> <br/> |
|<span data-ttu-id="53dad-188">2.</span><span class="sxs-lookup"><span data-stu-id="53dad-188">2.</span></span>  <br/> |<span data-ttu-id="53dad-189">Outlook 2013 ou Outlook 2010 remplit la fonction **hier** avec des informations pour le client.</span><span class="sxs-lookup"><span data-stu-id="53dad-189">Outlook 2013 or Outlook 2010 populates **UPHIER** with information for the client.</span></span> <span data-ttu-id="53dad-190">Cela inclut l'initialisation des paramètres [out]: *iEnt* est défini sur 0 et *cEnt* sur le nombre de dossiers dans la hiérarchie qui nécessite un téléchargement.</span><span class="sxs-lookup"><span data-stu-id="53dad-190">This includes initializing the [out] parameters:  *iEnt*  is set to 0, and  *cEnt*  to the number of folders in the hierarchy that needs uploading.</span></span>  <br/> |<span data-ttu-id="53dad-191">**LR_SYNC_UPLOAD_HIERARCHY**</span><span class="sxs-lookup"><span data-stu-id="53dad-191">**LR_SYNC_UPLOAD_HIERARCHY**</span></span> <br/> |<span data-ttu-id="53dad-192">**UPHIER**</span><span class="sxs-lookup"><span data-stu-id="53dad-192">**UPHIER**</span></span> <br/> |
|<span data-ttu-id="53dad-193">3.</span><span class="sxs-lookup"><span data-stu-id="53dad-193">3.</span></span>  <br/> |<span data-ttu-id="53dad-194">Le client effectue le chargement de la hiérarchie réelle.</span><span class="sxs-lookup"><span data-stu-id="53dad-194">The client does the actual hierarchy upload.</span></span> <span data-ttu-id="53dad-195">Par exemple, si le *pourcentage* est 10, pour chacun des 10 dossiers, le client appelle **IOSTX:: SyncBeg**, en spécifiant l'identificateur d'État et la structure de données appropriés pour le téléchargement d'un dossier.</span><span class="sxs-lookup"><span data-stu-id="53dad-195">As an example, if  *cEnt*  is 10, for each of the 10 folders, the client calls **IOSTX::SyncBeg**, specifying the appropriate state identifier and data structure for uploading a folder.</span></span>  <br/> |<span data-ttu-id="53dad-196">**LR_SYNC_UPLOAD_FOLDER**</span><span class="sxs-lookup"><span data-stu-id="53dad-196">**LR_SYNC_UPLOAD_FOLDER**</span></span> <br/> |<span data-ttu-id="53dad-197">**UPFLD**</span><span class="sxs-lookup"><span data-stu-id="53dad-197">**UPFLD**</span></span> <br/> |
|<span data-ttu-id="53dad-198">4.</span><span class="sxs-lookup"><span data-stu-id="53dad-198">4.</span></span>  <br/> |<span data-ttu-id="53dad-199">Outlook 2013 ou Outlook 2010 remplit **UPFLD** en initialisant ses paramètres [out], notamment la raison du chargement du dossier, le pointeur vers l'objet Folder et l'ID d'entrée du dossier.</span><span class="sxs-lookup"><span data-stu-id="53dad-199">Outlook 2013 or Outlook 2010 populates **UPFLD** by initializing its [out] parameters, including the reason for the folder upload, the pointer to the folder object, and the entry ID for the folder.</span></span>  <br/> |<span data-ttu-id="53dad-200">**LR_SYNC_UPLOAD_FOLDER**</span><span class="sxs-lookup"><span data-stu-id="53dad-200">**LR_SYNC_UPLOAD_FOLDER**</span></span> <br/> |<span data-ttu-id="53dad-201">**UPFLD**</span><span class="sxs-lookup"><span data-stu-id="53dad-201">**UPFLD**</span></span> <br/> |
|<span data-ttu-id="53dad-202">5.</span><span class="sxs-lookup"><span data-stu-id="53dad-202">5.</span></span>  <br/> |<span data-ttu-id="53dad-203">Le client télécharge le dossier spécifié.</span><span class="sxs-lookup"><span data-stu-id="53dad-203">The client uploads the specified folder.</span></span>  <br/> |<span data-ttu-id="53dad-204">**LR_SYNC_UPLOAD_FOLDER**</span><span class="sxs-lookup"><span data-stu-id="53dad-204">**LR_SYNC_UPLOAD_FOLDER**</span></span> <br/> |<span data-ttu-id="53dad-205">**UPFLD**</span><span class="sxs-lookup"><span data-stu-id="53dad-205">**UPFLD**</span></span> <br/> |
|<span data-ttu-id="53dad-206">6.</span><span class="sxs-lookup"><span data-stu-id="53dad-206">6.</span></span>  <br/> |<span data-ttu-id="53dad-207">Le client informe le magasin local de la fin du chargement du dossier: en cas de réussite, le client définit le paramètre [in] *ulFlags* dans **UPFLD** avec **UPF_OK**, puis appelle **IOSTX:: SetSyncResult (S_OK)** et \*\*IOSTX:: SyncEnd, \*\*.</span><span class="sxs-lookup"><span data-stu-id="53dad-207">The client notifies the local store of the completion of the folder upload: Upon success, the client sets the [in] parameter  *ulFlags*  in **UPFLD** with **UPF_OK**, and then calls **IOSTX::SetSyncResult (S_OK)** and **IOSTX::SyncEnd**.</span></span> <span data-ttu-id="53dad-208">En cas de défaillance, le client ne définit pas *ulFlags* avec l'indicateur **UPF_OK** .</span><span class="sxs-lookup"><span data-stu-id="53dad-208">Upon failure, the client would not set  *ulFlags*  with the **UPF_OK** flag.</span></span> <span data-ttu-id="53dad-209">Il appelle **IOSTX:: SetSyncResult**, en transmettant la valeur **HRESULT** et **IOSTX:: SyncEnd,**.</span><span class="sxs-lookup"><span data-stu-id="53dad-209">It calls **IOSTX::SetSyncResult**, passing in the **HRESULT** value, and **IOSTX::SyncEnd**.</span></span>  <br/> |<span data-ttu-id="53dad-210">**LR_SYNC_UPLOAD_FOLDER**</span><span class="sxs-lookup"><span data-stu-id="53dad-210">**LR_SYNC_UPLOAD_FOLDER**</span></span> <br/> |<span data-ttu-id="53dad-211">**UPFLD**</span><span class="sxs-lookup"><span data-stu-id="53dad-211">**UPFLD**</span></span> <br/> |
|<span data-ttu-id="53dad-212">7.</span><span class="sxs-lookup"><span data-stu-id="53dad-212">7.</span></span>  <br/> |<span data-ttu-id="53dad-213">Si **UPF_OK** est défini, Outlook 2013 ou Outlook 2010 efface la demande interne de téléchargement du dossier.</span><span class="sxs-lookup"><span data-stu-id="53dad-213">If **UPF_OK** is set, Outlook 2013 or Outlook 2010 will clear the internal request for uploading the folder.</span></span> <span data-ttu-id="53dad-214">Ensuite, quel que soit l'état de *ulFlags* , il nettoie toutes les informations de suivi internes.</span><span class="sxs-lookup"><span data-stu-id="53dad-214">Then regardless of the state of  *ulFlags*  , it will clean up any internal bookkeeping information.</span></span> <span data-ttu-id="53dad-215">Bien qu'il y ait toujours des dossiers dans la hiérarchie à télécharger (*iEnt* est toujours inférieur à *cEnt*), le client et outlook 2013 ou Outlook 2010 répètent les étapes 3 à 7.</span><span class="sxs-lookup"><span data-stu-id="53dad-215">While there are still folders in the hierarchy to upload (*iEnt*  is still less than  *cEnt*), the client and Outlook 2013 or Outlook 2010 repeat steps 3 through 7.</span></span>  <br/> |<span data-ttu-id="53dad-216">**LR_SYNC_UPLOAD_FOLDER**</span><span class="sxs-lookup"><span data-stu-id="53dad-216">**LR_SYNC_UPLOAD_FOLDER**</span></span> <br/> |<span data-ttu-id="53dad-217">**UPFLD**</span><span class="sxs-lookup"><span data-stu-id="53dad-217">**UPFLD**</span></span> <br/> |
|<span data-ttu-id="53dad-218">8.</span><span class="sxs-lookup"><span data-stu-id="53dad-218">8.</span></span>  <br/> |<span data-ttu-id="53dad-219">Le client informe le magasin local de la fin du chargement de la hiérarchie: en cas de réussite, le client définit l'indicateur [in \*\*\*\* ] dans la **UPH_OK**, puis appelle **IOSTX:: SetSyncResult (S_OK)** et **IOSTX:: SyncEnd,**.</span><span class="sxs-lookup"><span data-stu-id="53dad-219">The client notifies the local store of the completion of the hierarchy upload: Upon success, the client sets the [in] flag in **UPHIER** with **UPH_OK**, and then calls **IOSTX::SetSyncResult (S_OK)** and **IOSTX::SyncEnd**.</span></span> <span data-ttu-id="53dad-220">En cas de défaillance, le client ne définit pas l'indicateur **UPH_OK** .</span><span class="sxs-lookup"><span data-stu-id="53dad-220">Upon failure, the client would not set the **UPH_OK** flag.</span></span> <span data-ttu-id="53dad-221">Il appelle **IOSTX:: SetSyncResult**, en transmettant la valeur **HRESULT** et **IOSTX:: SyncEnd,**.</span><span class="sxs-lookup"><span data-stu-id="53dad-221">It calls **IOSTX::SetSyncResult**, passing in the **HRESULT** value, and **IOSTX::SyncEnd**.</span></span>  <br/> |<span data-ttu-id="53dad-222">**LR_SYNC_UPLOAD_HIERARCHY**</span><span class="sxs-lookup"><span data-stu-id="53dad-222">**LR_SYNC_UPLOAD_HIERARCHY**</span></span> <br/> |<span data-ttu-id="53dad-223">**UPHIER**</span><span class="sxs-lookup"><span data-stu-id="53dad-223">**UPHIER**</span></span> <br/> |
|<span data-ttu-id="53dad-224">9.</span><span class="sxs-lookup"><span data-stu-id="53dad-224">9.</span></span>  <br/> |<span data-ttu-id="53dad-225">Si **UPH_OK** est défini, Outlook 2013 ou Outlook 2010 efface la demande interne de téléchargement de la hiérarchie.</span><span class="sxs-lookup"><span data-stu-id="53dad-225">If **UPH_OK** is set, Outlook 2013 or Outlook 2010 will clear the internal request for uploading the hierarchy.</span></span> <span data-ttu-id="53dad-226">Ensuite, quel que soit l'état de *ulFlags* , il nettoie toutes les informations de suivi internes.</span><span class="sxs-lookup"><span data-stu-id="53dad-226">Then regardless of the state of  *ulFlags*  , it will clean up any internal bookkeeping information.</span></span>  <br/> |<span data-ttu-id="53dad-227">**LR_SYNC_UPLOAD_HIERARCHY**</span><span class="sxs-lookup"><span data-stu-id="53dad-227">**LR_SYNC_UPLOAD_HIERARCHY**</span></span> <br/> |<span data-ttu-id="53dad-228">**UPHIER**</span><span class="sxs-lookup"><span data-stu-id="53dad-228">**UPHIER**</span></span> <br/> |
   
## <a name="see-also"></a><span data-ttu-id="53dad-229">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="53dad-229">See also</span></span>



[<span data-ttu-id="53dad-230">À propos de l’API de réplication</span><span class="sxs-lookup"><span data-stu-id="53dad-230">About the Replication API</span></span>](about-the-replication-api.md)
  
[<span data-ttu-id="53dad-231">Constantes MAPI</span><span class="sxs-lookup"><span data-stu-id="53dad-231">MAPI Constants</span></span>](mapi-constants.md)
  
[<span data-ttu-id="53dad-232">SYNCSTATE</span><span class="sxs-lookup"><span data-stu-id="53dad-232">SYNCSTATE</span></span>](syncstate.md)

